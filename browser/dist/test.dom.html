<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <script charset='UTF-8' type="text/javascript" src="../dist/febs-0.8.80/febs.js"></script>
  </head>
  <body>
    将在console中输出调用日志
    <div id="test_elem"></div>
    <div class="test_elem aa"></div>
    <div class="test_elem"><div class="aa"></div></div>

    <div id="children1">
      <div class="a">a
        <div class="a">a
          <div class="a">a</div>
        </div>
      </div>
    </div>

    <div class="a">a</div>

    <input class="abc1" type="checkbox" checked="checked">
    <input class="abc1" disabled="disabled">

    <input name="abc" type="checkbox" checked>
    <input name="abc">
    <input name="dfd">

    <div gegd="sf3232"></div>
    <div gegd="sf3232"></div>
    <div gegd="sf3232"></div>


    <script>
    
    var assert = console.assert;
    var trace  = console.log;

    //
    // __debug, console.debug
    __debug = true;
    console.log('__debug', __debug);
    console.debug(11, {'debug':'is debug log'});

    // assert.
    function febs_assert(fooName, valueCB, call) {
      var tt = call();
      console.log(fooName, tt);
      if (!febs.utils.isNull(valueCB)) {
        assert(valueCB(tt), fooName);
      }
    }

    // jquery.
    febs_assert('$', function(r){return r!=null;}, function(){return $('#test_elem')[0];});
    febs_assert('$', function(r){return r!=null;}, function(){return $('.test_elem')[0];});
    febs_assert('append', function(r){return $('#appendok')[0] != null;}, 
      function(){
        $('#test_elem').append($('<div id="appendok">append</div>'));
      });
    febs_assert('appendTo', function(r){return $('#appendTook')[0] != null;}, 
      function(){
        $('<div id="appendTook">appendTo</div>').appendTo($('#appendok'));
      });
    febs_assert('prepend', function(r){return $('#prependok')[0] != null;}, 
      function(){
        $('#test_elem').prepend($('<div id="prependok">prepend</div>'));
      });
    febs_assert('prependTo', function(r){return $('#prependTook')[0] != null;}, 
      function(){
        $('<div id="prependTook">prependTo</div>').prependTo($('#prependok'));
      });
    febs_assert('class', function(r){return r == 2;}, 
      function(){ 
        $('.test_elem').append('<div>is test_elem</div>');
        return $('.test_elem').length;
      });
    febs_assert('hasClass', function(r){return r;}, 
      function(){ 
        return $('.test_elem').hasClass('test_elem');
      });
    febs_assert('addClass', function(r){return $('.test_elem1').length == 2;}, 
      function(){ 
        $('.test_elem').addClass('test_elem1');
      });
    febs_assert('removeClass', function(r){return $('.test_elem1').length == 0;}, 
      function(){ 
        $('.test_elem').removeClass('test_elem1');
      });
    febs_assert('toggleClass', function(r){return $('.test_elem1').length == 2;}, 
      function(){ 
        $('.test_elem').toggleClass('test_elem1');
      });
    febs_assert('remove', function(r){return $('.test_elem1').length == 1;}, 
      function(){ 
        $('.test_elem')[0].remove();
      });
    febs_assert('insertBefore', function(r){return true;}, 
      function(){ 
        $($('.test_elem')[0]).insertBefore($('#prependok'));
      });
    febs_assert('before', function(r){return true;}, 
      function(){ 
        $($('.test_elem')[0]).before($('#appendok'));
      });
    febs_assert('insertAfter', function(r){return true;}, 
      function(){ 
        $($('.test_elem')[0]).insertAfter($('#prependok'));
      });
    febs_assert('after', function(r){return true;}, 
      function(){ 
        $($('.test_elem')[0]).after($('#prependok'));
      });
    febs_assert('attr', function(r){return $('.test_elem')[0].attr('idsf') == 'sfdsdg';}, 
      function(){ 
        $('.test_elem')[0].attr('idsf', 'sfdsdg');
      });
    febs_assert('removeAttr', function(r){return !$('.test_elem')[0].attr('idsf');}, 
      function(){ 
        $('.test_elem')[0].removeAttr('idsf');
      });
    febs_assert('empty', function(r){return febs.string.isEmpty($('.test_elem')[0].html());}, 
      function(){ 
        $('.test_elem')[0].empty();
      });
    febs_assert('html', function(r){return $('#sdfdf')[0]!=null;}, 
      function(){ 
        $('.test_elem')[0].html('<div id="sdfdf">sdfdf</div>');
      });
    // febs_assert('html', function(r){return r=='<div id="sdfdf">sdfdf</div>';}, 
    //   function(){ 
    //     return $('.test_elem')[0].html();
    //   });
    // febs_assert('text', function(r){return $('#sdfdf')[0]==null;}, 
    //   function(){ 
    //     $('.test_elem')[0].text('<div id="sdfdf">sdfdf</div>');
    //   });
    // febs_assert('text', function(r){return r=='<div id="sdfdf">sdfdf</div>';}, 
    //   function(){ 
    //     return $('.test_elem')[0].text();
    //   });   
    febs_assert('val', function(r){return $('.test_elem')[0].val()=='1212';}, 
      function(){ 
        $('.test_elem')[0].val('1212');
      });
    febs_assert('val', function(r){return r=='1212';}, 
      function(){ 
        return $('.test_elem')[0].val();
      });  
    febs_assert('css', function(r){return $('.test_elem')[0].css('display')=='none' || $('.test_elem')[0].css('display')=='';}, 
      function(){ 
        $('.test_elem')[0].css('display', 'none');
      });
    febs_assert('css', function(r){return r=='none' || r=='';}, 
      function(){ 
        return $('.test_elem')[0].css('display');
      });

    $('.test_elem')[0].css('display', '');

    //
    // event.
    $('.test_elem')[0].on('click', function(){
      alert('dd');
    });
    $('.test_elem')[0].trigger('click');
    $('.test_elem')[0].on('click', function(){
      alert('dd');
    });
    $('.test_elem')[0].off('click');
    $('.test_elem')[0].trigger('click');
    $('.test_elem')[0].trigger('click');


    febs_assert('parent', function(r){return r.length == 3;}, 
      function(){ 
        $('#prependok').addClass('test_elem1');
        $('#prependTook').addClass('test_elem1');
        return $('.test_elem1').parent();
      });
    febs_assert('parent', function(r){return r.length == 1;}, 
      function(){
        return $('.test_elem1').parent('#prependok');
      });


    febs_assert('children', function(r){return r.length == 4;}, 
      function(){
        return $('.a');
      });
    febs_assert('children', function(r){return r.length == 2;}, 
      function(){
        return $('.a .a');
      });
    febs_assert('children', function(r){return r.length == 1;}, 
      function(){
        return $('.a .a .a');
      });
    febs_assert('children', function(r){return r.length == 0;}, 
      function(){
        return $('#children1').children('.b');
      });
    febs_assert('children', function(r){return r.length == 1;}, 
      function(){
        return $('#children1').children('.a');
      });
    febs_assert(':checked', function(r){return r.length == 1;}, 
      function(){
        return $('.abc1:checked');
      });
    febs_assert(':disabled', function(r){return r.length == 1;}, 
      function(){
        return $('.abc1:disabled');
      });
    febs_assert('input attr', function(r){return r.length == 2;}, 
      function(){
        return $('input[name="abc"]');
      });
    febs_assert('div attr', function(r){return r.length == 3;}, 
      function(){
        return $("div[gegd='sf3232']");
      });
    febs_assert('input', function(r){return r.length == 1;}, 
      function(){
        return $('input[name="abc"]:checked');
      });
    </script>
  </body>
</html>